# Travis config for jdherman/SALib
language: python

  #- "2.6_with_system_site_packages"
#  - "2.7_with_system_site_packages"
 # - "3.2_with_system_site_packages"
  #- "3.3_with_system_site_packages"
matrix:
  include:
    - python: "2.7"
      env: DEPS="numpy scipy scikit-learn"
    - python: "3.3"
      env: DEPS="numpy scipy scikit-learn"

before_install:
  - if [ ${TRAVIS_PYTHON_VERSION:0:1} == "2" ]; then wget http://repo.continuum.io/miniconda/Miniconda-2.2.2-Linux-x86_64.sh -O miniconda.sh; else wget http://repo.continuum.io/miniconda/Miniconda3-2.2.2-Linux-x86_64.sh -O miniconda.sh; fi
  - chmod +x miniconda.sh
  - ./miniconda.sh -b
  - export PATH=/home/travis/anaconda/bin:$PATH
  - conda update --yes conda

install:
  - conda create -n testenv --yes $DEPS pip python=$TRAVIS_PYTHON_VERSION
  - source activate testenv
  - python setup.py install
  - pip install coveralls
script:
  - coverage run --source=SALib setup.py test
after_success:
  - if [[ $ENV == python=2.7* ]]; then coveralls; fi
notifications:
  email: false
